---
#
alarm:
  template:
    - base
    - setup
  icon: mdi:shield-home
  variables:
    active_color: red
  state:
    - value: disarmed
      icon: mdi:shield-off-outline
      custom_fields:
        cs: Disarmed
    - value: armed_night
      icon: mdi:shield-moon
      custom_fields:
        cs: Night
    - value: arming
      icon: mdi:shield-lock-open
      styles:
        icon:
          - animation: blink 2s ease infinite
      custom_fields:
        cs: Arming...
    - value: armed_away
      icon: mdi:shield-lock
      custom_fields:
        cs: Away
    - value: armed_home
      icon: mdi:shield-home
      custom_fields:
        cs: Home
    - value: triggered
      icon: mdi:shield-alert-outline
      styles:
        card:
          - background-color: var(--red)
        name:
          - color: var(--black)
        icon:
          - color: var(--black)
          - animation: blink 2s ease infinite
        custom_fields:
          cs:
            - color: var(--black)
          es:
            - color: var(--black)
      custom_fields:
        cs: Triggered
  styles:
    grid:
      - grid-template-areas: '"i i" "cs ec" "n ec"'
      - grid-template-columns: 1fr min-content
      - grid-template-rows: 1fr min-content min-content min-content
    custom_fields:
      ec:
        - justify-self: start
        - justify-content: center
      cs:
        - color: var(--contrast18)
      es:
        - color: var(--contrast18)
    card:
      - background: var(--contrast2)
    icon:
      - color: var(--contrast18)
    name:
      - color: var(--contrast12)
  custom_fields:
    ec:
      card:
        type: tile
        entity: "[[[ return entity.entity_id; ]]]"
        color: red
        features:
          - type: alarm-modes
            modes:
              - armed_away
              - armed_night
              - armed_home
              - disarmed
        card_mod:
          style:
            .: |
              ha-card .content {
                display: none;
              } ha-card {
                width: 200px;
                background: transparent;
                border-radius: 0px;
              } ha-card.active {
                height: 40px;
              }
            .features hui-alarm-modes-tile-feature $: |
              .container {
                padding: 0px !important;
              }
            .features hui-alarm-modes-tile-feature $ .container ha-control-select $ .container:
              |
              .option {
                background-color: transparent !important;
                border-radius: 13px !important;
              }
              card_mod:
            hui-card-features $:
              hui-alarm-modes-card-feature $:
                ha-control-select$: |
                  .container {
                    color: var(--contrast10) !important;
                    --control-select-color: var(--green) !important;
                        }
